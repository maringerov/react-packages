)]}'
{"version":3,"sources":["/packages/react-template-helper/react-template-helper.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0H","file":"/packages/react-template-helper.js","sourcesContent":["// Empty template; logic in `onRendered` below\nTemplate.React = new Template(\"Template.React\", function () { return []; });\n\nTemplate.React.onRendered(function () {\n  var parentTemplate = parentTemplateName();\n  var container = this.firstNode.parentNode;\n  this.container = container;\n\n  this.autorun(function (c) {\n    var data = Blaze.getData();\n\n    var comp = data && data.component;\n    if (! comp) {\n      throw new Error(\n        \"In template \" + parentTemplate + \", call to `{{> React ... }}` missing \" +\n          \"`component` argument.\");\n    }\n\n    // Remove this block of code once we ship Meteor 1.1.1 or above,\n    // where we detect these cases (and more) when templates are\n    // compiled:\n    // https://github.com/meteor/meteor/commit/29d907e8365fa28b22994cb63311de60fd58cc1f\n\n    // expected nodes that aren't whitespace-only text nodes\n    var expectedContainerChildNodes = c.firstRun ? 0 : 1;\n    if (numChildNodes(container) > expectedContainerChildNodes) {\n      var compDescriptor = comp.displayName\n            ? \"the React component \" + comp.displayName\n            : \"a React component\";\n\n      throw new Error(\n        \"Template \" + parentTemplate + \" must render \" + compDescriptor +\n          \" as the only child of its parent element. Learn more at \" +\n          \"https://github.com/meteor/meteor/wiki/React-components-must-be-the-only-thing-in-their-wrapper-element\");\n    }\n\n    // End block of code to remove with Meteor 1.1.1\n\n    var props = _.omit(data, 'component');\n    React.render(React.createElement(comp, props), container);\n  });\n});\n\nTemplate.React.onDestroyed(function () {\n  React.unmountComponentAtNode(this.container);\n});\n\n// Gets the name of the template inside of which this instance of `{{>\n// React ...}}` is being used. Used to print more explicit error messages\nfunction parentTemplateName () {\n  var view = Blaze.getView();\n  if (view.name !== \"Template.React\")\n    throw new Error(\"Unexpected: called outside of Template.React\");\n\n  view = view.parentView;\n  while (! view.template)\n    view = view.parentView;\n\n  var match = view.name.match(/Template\\.(.*)/);\n  if (! match)\n    throw new Error(\"Unexpected: View doesn't correspond to a template? \" + view.name);\n\n  return match[1];\n};\n\n// Gets the number of child nodes of `el` that aren't only whitespace\nfunction numChildNodes (el) {\n  var numChildNodes = 0;\n  for (var node = el.firstChild; node; node = node.nextSibling) {\n    if (!(node.nodeType === Node.TEXT_NODE && node.nodeValue.match(/^\\s*$/))) {\n      numChildNodes++;\n    }\n  }\n\n  return numChildNodes;\n};\n\n"]}